@layer utilities {
  /* Sparkle - twinkling star effect */
  .tm-sparkle {
    animation-name: tm-sparkle;
    animation-duration: var(--tm-duration, 1400ms);
    animation-delay: var(--tm-delay, 0ms);
    animation-timing-function: var(--tm-easing, ease-in-out);
    animation-iteration-count: var(--tm-iteration-count, infinite);
    animation-fill-mode: both;
    will-change: transform, opacity;
  }

  /* Fill Up - bottom to top reveal like star filling */
  .tm-fill-up {
    animation-name: tm-fill-up;
    animation-duration: var(--tm-duration, 1200ms);
    animation-delay: var(--tm-delay, 0ms);
    animation-timing-function: var(--tm-easing, cubic-bezier(0.34, 1.56, 0.64, 1));
    animation-iteration-count: var(--tm-iteration-count, 1);
    animation-fill-mode: both;
    will-change: clip-path, opacity;
  }

  /* Burst - explosion outward effect */
  .tm-burst {
    animation-name: tm-burst;
    animation-duration: var(--tm-duration, 600ms);
    animation-delay: var(--tm-delay, 0ms);
    animation-timing-function: var(--tm-easing, cubic-bezier(0.22, 1, 0.36, 1));
    animation-iteration-count: var(--tm-iteration-count, 1);
    animation-fill-mode: both;
    will-change: transform, opacity;
  }

  /* Count reveal - slot machine number effect */
  .tm-count-reveal {
    display: inline-flex;
    overflow: hidden;
    vertical-align: bottom;
  }

  .tm-count-reveal > * {
    display: inline-block;
    animation-name: tm-count-slide;
    animation-duration: var(--tm-duration, 600ms);
    animation-delay: calc(var(--tm-delay, 0ms) + var(--tm-stagger, 0) * 50ms);
    animation-timing-function: var(--tm-easing, cubic-bezier(0.16, 1, 0.3, 1));
    animation-iteration-count: var(--tm-iteration-count, 1);
    animation-fill-mode: both;
    will-change: transform, opacity;
  }

  /* Auto-stagger children */
  .tm-count-reveal > *:nth-child(1) { --tm-stagger: 0; }
  .tm-count-reveal > *:nth-child(2) { --tm-stagger: 1; }
  .tm-count-reveal > *:nth-child(3) { --tm-stagger: 2; }
  .tm-count-reveal > *:nth-child(4) { --tm-stagger: 3; }
  .tm-count-reveal > *:nth-child(5) { --tm-stagger: 4; }
  .tm-count-reveal > *:nth-child(6) { --tm-stagger: 5; }
  .tm-count-reveal > *:nth-child(7) { --tm-stagger: 6; }
  .tm-count-reveal > *:nth-child(8) { --tm-stagger: 7; }
  .tm-count-reveal > *:nth-child(9) { --tm-stagger: 8; }
  .tm-count-reveal > *:nth-child(10) { --tm-stagger: 9; }

  /* Single digit slot animation */
  .tm-slide-digit {
    display: inline-block;
    overflow: hidden;
    vertical-align: bottom;
    animation-name: tm-count-slide;
    animation-duration: var(--tm-duration, 600ms);
    animation-delay: var(--tm-delay, 0ms);
    animation-timing-function: var(--tm-easing, cubic-bezier(0.16, 1, 0.3, 1));
    animation-iteration-count: var(--tm-iteration-count, 1);
    animation-fill-mode: both;
    will-change: transform, opacity;
  }

  /* Confetti - falling celebration particles */
  .tm-confetti {
    animation-name: tm-confetti;
    animation-duration: var(--tm-duration, 2500ms);
    animation-delay: var(--tm-delay, 0ms);
    animation-timing-function: var(--tm-easing, cubic-bezier(0.25, 0.46, 0.45, 0.94));
    animation-iteration-count: var(--tm-iteration-count, 1);
    animation-fill-mode: both;
    will-change: transform, opacity;
  }
}

@keyframes tm-sparkle {
  0%,
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }

  25% {
    opacity: 0.6;
    transform: scale(0.85) rotate(5deg);
  }

  50% {
    opacity: 1;
    transform: scale(1.1) rotate(-3deg);
  }

  75% {
    opacity: 0.8;
    transform: scale(0.95) rotate(2deg);
  }
}

@keyframes tm-fill-up {
  0% {
    clip-path: inset(100% 0 0 0);
    opacity: 0;
  }

  20% {
    opacity: 1;
  }

  100% {
    clip-path: inset(0 0 0 0);
    opacity: 1;
  }
}

@keyframes tm-burst {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }

  50% {
    transform: scale(1.15);
    opacity: 1;
  }

  70% {
    transform: scale(0.9);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes tm-count-slide {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }

  60% {
    opacity: 1;
  }

  75% {
    transform: translateY(-8%);
  }

  90% {
    transform: translateY(3%);
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes tm-confetti {
  0% {
    transform: translateY(-20px) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  100% {
    transform: translateY(100px) rotate(720deg);
    opacity: 0;
  }
}

